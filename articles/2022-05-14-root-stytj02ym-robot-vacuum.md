---
layout: post
title: Root –¥–æ—Å—Ç—É–ø –Ω–∞ –ø–∏–ª–æ—Å–æ—Å Xiaomi STYTJ02YM (Viomi V8) Vacuum Robot
permalink: /blog/root-styj02ym-robot-vacuum.html
---

–°—É—á–∞—Å–Ω–∏–π —Ä–æ–±–æ—Ç –ø–∏–ª–æ—Å–æ—Å –æ—Å–Ω–∞—â–µ–Ω–æ –∫–∞–º–µ—Ä–æ—é, —Ä–∞–¥–∞—Ä–æ–º —ñ –±–æ–≥ –∑–Ω–∞ —â–µ —á–∏–º. –ü—Ä–∏ —Ü—å–æ–º—É —É—Å—å–æ–º—É –≤—ñ–Ω –∑–∞–≤–∂–¥–∏ –º–∞—î –¥–æ—Å—Ç—É–ø –¥–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç —ñ, —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–æ, –º–æ–∂–µ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ —Ä–æ–∑–º–æ–≤–∏, —Ñ–æ—Ç–æ, –∞–¥—Ä–µ—Å–∏ —Ç–∞ –∫–∞—Ä—Ç–∏ –≤–∞—à–∏—Ö –ø–æ–º–µ—à–∫–∞–Ω–Ω—è —è–∫–æ–º—É—Å—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–º—É –õ—ñ –•—É–∞–Ω –ß–∂–∞–Ω—É. –ê –±–µ—Ä—É—á–∏ –¥–æ —É–≤–∞–≥–∏ —Ç–µ, —â–æ —Å–∫–æ—Ä—ñ—à –∑–∞ –≤—Å–µ, —É –≤–∞—à–æ–º—É –±—É–¥–∏–Ω–∫—É (_—Ç–∞ –π –Ω–∞ –≤–∞—Å —Å–∞–º–∏—Ö —ñ –π–º–æ–≤—ñ—Ä–Ω–æ –Ω–∞ —É—Å—ñ—Ö —á–ª–µ–Ω–∞—Ö –≤–∞—à–æ—ó —Ä–æ–¥–∏–Ω–∏_) –æ–∫—Ä—ñ–º —Ä–æ–±–æ—Ç–∞ –ø–∏–ª–æ—Å–æ—Å–∞ —â–µ –∫—É–ø–∞ —Ä—ñ–∑–Ω–æ—ó —ñ–Ω—à–æ—ó "—Ä–æ–∑—É–º–Ω–æ—ó" —Ç–µ—Ö–Ω—ñ–∫–∏, —Ç–æ –π –∂–µ –õ—ñ –•—É–∞–Ω –ß–∂–∞–Ω, —è–∫—â–æ —Ç–æ–≥–æ –∑–∞—Ö–æ—á–µ, –º–æ–∂–µ –∑–Ω–∞—Ç–∏ –ø—Ä–æ –≤–∞—Å —Å—Ç—ñ–ª—å–∫–∏ –≤—Å—å–æ–≥–æ, —â–æ –≤–∏ –π —Å–∞–º—ñ –ø—Ä–æ —Å–µ–±–µ –Ω–µ –∑–¥–æ–≥–∞–¥—É—î—Ç–µ—Å—å. –°–µ—Ä—Ü–µ–≤–∏–π —Ä–∏—Ç–º, –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–∏—Å–Ω—é —É –∫—Ä–æ–≤—ñ, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –ø–æ–≤—ñ—Ç—Ä—è —ñ –ø—ñ–¥–ª–æ–≥–∏ —É –≤–∞—à–∏—Ö –∫—ñ–º–Ω–∞—Ç–∞—Ö, —è—Å–∫—Ä–∞–≤—ñ—Å—Ç—å –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è... –©–µ —Ç—Ä–æ—Ö–∏ —ñ –≤–æ–Ω–∏ –±—É–¥—É—Ç—å –∑–Ω–∞—Ç–∏ –≤–∞—à –≥–æ—Ä–º–æ–Ω–∞–ª—å–Ω–∏–π —Ñ–æ–Ω. –°—Ç—Ä–∞—à–Ω–µ üò¨

–û—Ç–∂–µ, —á–∞—Å –≤—ñ–¥ —á–∞—Å—É —è –∑–∞–º–∏—Å–ª—é–≤–∞–≤—Å—è –Ω–∞–¥ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—é –≤—ñ–¥–≤ º—è–∑–∞—Ç–∏ —Ä–æ–±–æ—Ç–∞ –ø–∏–ª–æ—Å–æ—Å–∞ –≤—ñ–¥ –∫–∏—Ç–∞–π—Å—å–∫–∏—Ö "—Ö–º–∞—Ä" —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ –≤–∏–∫–ª—é—á–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ. –ü—ñ–¥ —á–∞—Å —Ä—ñ—Å—å–æ—Ä—á—É –∑–Ω–∞–π—à–æ–≤ —à—Ç—É–∫—É –ø—ñ–¥ –Ω–∞–∑–≤–æ—é [Valetudo](https://valetudo.cloud/), –∞–ª–µ –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–∏–π root –¥–æ—Å—Ç—É–ø –¥–æ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏. –í–ª–∞—Å–Ω–µ –ø—Ä–æ —Ü–µ —ñ –ø–∏—à—É. –ù–∞—Å–ø—Ä–∞–≤–¥—ñ –≤ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç–∞—Ö –≤–∂–µ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ –Ω–∞ —Ü—é —Ç–µ–º—É. –ê–ª–µ —Ç—É—Ç —è —Å–ø—Ä–æ–±—É–≤–∞–≤ —Å–∫–æ–º–ø—ñ–ª—é–≤–∞—Ç–∏ —É—Å–µ –¥–æ –∫—É–ø–∏, –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ —Ç–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é.

<!-- more -->

–î–ª—è –ø–æ—á–∞—Ç–∫—É –ø–µ—Ä–µ–∫–∏–¥–∞—î–º–æ –≤–∞—à–æ–≥–æ dust sucker'–∞ –ø—É–∑–æ–º –¥–æ–≥–æ—Ä–∏. –ë–∞—á–∏–º–æ –Ω–∞–∫–ª—î—î—á–∫—É.
![stiker](assets/IMG_20231209_214843.jpg)

–ó–Ω—ñ–º–∞—î–º–æ —Ä–∞–º–∫—É –≥–æ–ª–æ–≤–Ω–æ—ó —â—ñ—Ç–∫–∏, —Å–∞–º—É —â—ñ—Ç–∫—É —ñ –∑–Ω–∞—Ö–æ–¥–∏–º–æ —á–æ—Ç–∏—Ä–∏ –≥–≤–∏–Ω—Ç–∞ —â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫—Ä—É—Ç–∏—Ç–∏ –º–∞–ª–æ—é —Ö—Ä–µ—Å—Ç–æ–≤–æ—é –≤–∏–∫—Ä—É—Ç–∫–æ—é.
![screws](assets/IMG_20231209_214652.jpg)

–ó–Ω—ñ–º–∞—î–º–æ –∫—Ä–∏—à–∫—É, –≤–∏—Ç—è–≥–∞—î–º–æ –±–∞—Ç–∞—Ä–µ–π–∫—É, –≤—ñ–¥–∫–ª—é—á–∞—î–º–æ —ó—ó —Ä–æ–∑ º—î–º (1) —ñ –ø—ñ–¥–∫–ª—é—á–∞—î–º–æ –∫–æ–º–ø º—é—Ç–µ—Ä –¥–æ microUSB (2).
![socket](assets/IMG_20231209_214910.jpg)

**–ê–ª–µ (!)** –Ω–µ –≤—Å—å–æ —Ç–∞–∫ –ø—Ä–æ—Å—Ç–æ. Shell –¥–æ—Å—Ç—É–ø–Ω–∏–π –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –ª–∏—à–µ –Ω–∞ –ø—ñ–≤ —Å–µ–∫—É–Ω–¥–∏, —Ç–æ –∂ —è–∫—â–æ –Ω–µ –≤—Å—Ç–∏–≥–Ω–µ—à

–ü–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–º—ñ–Ω–∏—Ç–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π —Ñ–∞–π–ª –æ—Ü–∏–º:

```sh
#!/bin/sh
export ENV='/etc/adb_profile'
exec /bin/sh "$@"
```

```sh
touch adb_shell
chmod 755 adb_shell
```

–î–ª—è —Ç–æ–≥–æ —â–æ–± –Ω–µ "—Ç–∏—Ä–∫–∞—Ç–∏" –∫–æ–º–∞–Ω–¥—É `adb push -a adb_shell /bin/adb_shell` —â–æ—Å–µ–∫—É–Ω–¥–Ω–æ –≤—Ä—É—á–Ω—É, —á–µ–∫–∞—é—á–∏ –Ω–∞ —Ç–æ–π —Å–∞–º–∏–π –º–æ–º–µ–Ω—Ç –∫–æ–ª–∏ –∑ –Ω–∏–º —Ç–∞–∫–∏ –º–æ–∂–Ω–∞ –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏, –ø–∏—à–µ–º–æ –≤ –∫–æ–Ω—Å–æ–ª—ñ –æ—Ç–∞–∫–µ:

```sh
while true; do adb push -a adb_shell /bin/adb_shell | grep -v "no devices"; done
```

—ñ —á–µ–∫–∞—î–º–æ –¥–æ–ø–æ–∫–∏ –Ω–µ –ø–æ–±–∞—á–∏–º–æ –Ω–∞—Å—Ç—É–ø–Ω–µ

```text
adb_shell: 1 file pushed, 0 skipped. 0.0 MB/s (100 bytes in 0.033s)
```

–ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –≤–∏—Å–º–∏–∫—É—î–º–æ —ñ–∑ —Ä–æ–±–æ—Ç–∞ –¥—Ä—ñ—Ç.

–ó–∞–ø—É—Å–∫–∞—î–º–æ —â–æ–± –≤–∏–º–∫–Ω—É—Ç–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å—É, —è–∫–∏–π –Ω–µ –¥–∞—î –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ `adb`.
–°–ø–æ–∫—ñ–π–Ω–æ, —Ü–µ –±–µ–∑–ø–µ—á–Ω–æ —Ç–æ–º—É, —â–æ —Ç—É—Ç –º–∏ –≤–∏–¥–∞–ª—è—î–º–æ —Å—ñ–º–ª—ñ–Ω–∫ –Ω–∞ —Ñ–∞–π–ª –∞ –Ω–µ —Å–∞–º —Ñ–∞–π–ª. –ü–æ—Ç—ñ–º –≤—Å–µ –≤—ñ–¥–Ω–æ–≤–∏–º–æ.

```sh
while true; do (adb shell rm /etc/rc.d/S90robotManager && echo "Done") 2>&1 | grep -v "no devices"; done
```

–í—Å—Ç–∞–≤–ª—è—î–º–æ USB –Ω–∞–∑–∞–¥ —ñ —á–µ–∫–∞—î–º–æ

###### –î–∂–µ—Ä–µ–ª–∞

- https://itooktheredpill.irgendwo.org/2020/rooting-xiaomi-vacuum-robot/
- https://blog.lupin.rocks/fixing-xiaomi-styj02ym-update-stuck-on-80/
- https://github.com/rumpeltux/viomi-rooting
- https://github.com/rumpeltux/viomi-rooting/blob/master/viomi-root.sh#L208
